<!DOCTYPE html>
<html>
<head>
<title>Edit Record</title>
<style>
* {margin: 0; padding: 0; box-sizing: border-box;}
body {font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; background:#0f172a; color:white; padding:20px; min-height: 100vh;}
.container {max-width: 600px; margin: 0 auto;}
h2 {margin-bottom: 20px;}
.nav-bar {text-align: right; margin-bottom: 20px;}
.nav-bar a {color:#3b82f6; text-decoration:none; font-weight: 500;}
.nav-bar a:hover {text-decoration: underline;}
.card {background:#1e293b; padding:25px; border-radius:10px; box-shadow: 0 4px 6px rgba(0,0,0,0.2);}
input {width: 100%; padding:12px; margin:10px 0; border-radius:6px; border:none; font-family: inherit; background: #0f172a; color: white;}
input::placeholder {color: #64748b;}
label {display: block; margin-top: 15px; margin-bottom: 5px; font-weight: 500;}
button {padding:12px 24px; background:#22c55e; border:none; color:white; border-radius:6px; font-weight: 500; cursor: pointer; transition: all 0.2s; width: 100%; margin-top: 20px;}
button:hover {background:#16a34a;}
.flash-msg {color: #fde68a; background: #7c2d12; padding: 10px; border-radius: 6px; margin-bottom: 15px;}
</style>
</head>
<body>

<div class="container">
<div class="nav-bar"><a href="/">‚Üê Back</a> &nbsp; <a href="/logout">Logout</a></div>

<h2>Edit Record</h2>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for m in messages %}
      <div class="flash-msg">{{ m }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<div class="card">
<form method="POST">
<label>Customer</label>
<input value="{{ record.full_name }}" disabled>

<label>Product</label>
<input name="product" value="{{ record.product }}" placeholder="Product name" required>

<label>Quantity (kg)</label>
<input name="quantity" type="number" step="0.01" value="{{ record.quantity }}" required>

<label>Unit Price (RWF)</label>
<input name="unit_price" type="number" step="1" value="{{ record.unit_price }}" required>

<label>Paid Amount (RWF)</label>
<input name="paid" type="number" step="1" value="{{ record.paid }}" required>

<label>Date</label>
<input name="date" type="date" value="{{ record.date or now_date }}" required>

<label>Due Date</label>
<input name="due_date" type="date" value="{{ record.due_date or '' }}" required>

<label>Payment Status</label>
<select name="payment_status" style="width: 100%; padding:12px; margin:10px 0; border-radius:6px; border:none; font-family: inherit; background: #0f172a; color: white;">
  <option value="pending" {% if record.payment_status == 'pending' %}selected{% endif %}>Pending</option>
  <option value="paid" {% if record.payment_status == 'paid' %}selected{% endif %}>Paid</option>
  <option value="partial" {% if record.payment_status == 'partial' %}selected{% endif %}>Partial</option>
</select>

<button type="submit">Update Record</button>
</form>
</div>

</div>

</body>
</html>